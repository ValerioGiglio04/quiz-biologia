<!DOCTYPE html>
<html lang="it">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Quiz Biologia</title>
    <style>
      /* --- quiz.css inlined --- */
      body {
        background: #181a20;
        margin: 0;
        padding: 0;
      }
      .quiz-container {
        background: #23272f;
        border-radius: 12px;
        box-shadow: 0 4px 24px rgba(0, 0, 0, 0.25);
        padding: 32px 16px;
        max-width: 500px;
        width: 100%;
        margin: 24px auto;
        font-family: 'Segoe UI', Arial, sans-serif;
      }
      h1 {
        text-align: center;
        color: #e3e8f0;
        margin-bottom: 24px;
        font-size: 2rem;
      }
      .quiz-options-top {
        display: flex;
        justify-content: flex-end;
        align-items: center;
        margin-bottom: 18px;
      }
      .show-answers-toggle {
        color: #bfc7d5;
        font-size: 1.1rem;
        user-select: none;
        display: flex;
        align-items: center;
        gap: 8px;
      }
      .show-answers-toggle input[type='checkbox'] {
        accent-color: #3b4cca;
        width: 20px;
        height: 20px;
      }
      .controls {
        display: flex;
        gap: 14px;
        justify-content: center;
        margin-bottom: 16px;
        margin-top: 10px;
        flex-wrap: wrap;
      }
      button {
        background: #3b4cca;
        color: #fff;
        border: none;
        border-radius: 6px;
        padding: 16px 0;
        font-size: 1.15rem;
        cursor: pointer;
        transition: background 0.2s, transform 0.1s;
        margin: 0 2px;
        min-width: 120px;
        min-height: 48px;
        font-weight: 500;
        letter-spacing: 0.02em;
        width: 160px;
        box-sizing: border-box;
        display: block;
      }
      button:active {
        transform: scale(0.97);
      }
      button:disabled {
        background: #444a5a;
        cursor: not-allowed;
      }
      .question {
        font-size: 1.25rem;
        margin-bottom: 18px;
        color: #e3e8f0;
        line-height: 1.4;
      }
      .options {
        display: flex;
        flex-direction: column;
        gap: 16px;
        margin-bottom: 28px;
      }
      .option {
        background: #23272f;
        border: 1.5px solid #353b47;
        border-radius: 6px;
        padding: 18px 12px;
        font-size: 1.1rem;
        cursor: pointer;
        transition: background 0.2s, border 0.2s, color 0.2s;
        text-align: left;
        color: #e3e8f0;
        opacity: 1;
        width: 100%;
        box-sizing: border-box;
      }
      .option:not(.selected):not(.correct):not(.incorrect) {
        background: #23272f;
        border: 1.5px solid #353b47;
        color: #e3e8f0;
        opacity: 1;
      }
      .option.selected {
        background: #3b4cca;
        border-color: #6c8cff;
        color: #fff;
        font-weight: bold;
      }
      .option.correct {
        background: #2e7d32;
        border-color: #66bb6a;
        color: #e3ffe3;
        font-weight: bold;
      }
      .option.incorrect {
        background: #b71c1c;
        border-color: #ef5350;
        color: #fff0f0;
        font-weight: bold;
      }
      .option:hover:not(.selected):not(.correct):not(.incorrect) {
        background: #2c3140;
        border-color: #6c8cff;
      }
      #quiz-result {
        text-align: center;
        font-size: 1.2rem;
        color: #e3e8f0;
        margin-top: 24px;
      }
      .review {
        margin-top: 24px;
      }
      .review .question {
        margin-bottom: 8px;
        color: #e3e8f0;
        font-size: 1.1rem;
      }
      .review .options {
        margin-bottom: 16px;
      }
      @media (max-width: 600px) {
        .quiz-container {
          padding: 10px 2px;
          max-width: 100vw;
          margin: 0;
          border-radius: 0;
          min-height: 100vh;
        }
        h1 {
          font-size: 1.3rem;
        }
        .controls {
          margin-top: 100px;
          display: flex;
          flex-direction: row;
          margin-bottom: 10px;
        }
        button {
          min-width: unset;
          font-size: 1.08rem;
          padding: 14px 0;
        }
        .question {
          font-size: 1.08rem;
        }
        .option {
          font-size: 1rem;
          padding: 14px 8px;
        }
        .quiz-options-top {
          justify-content: center;
          margin-bottom: 10px;
        }
      }
    </style>
  </head>
  <body>
    <div class="quiz-container">
      <h1>Quiz Biologia</h1>
      <div class="quiz-options-top">
        <label class="show-answers-toggle">
          <input type="checkbox" id="show-answers-toggle" />
          Mostra risposte subito
        </label>
      </div>
      <div id="quiz-content"></div>
      <div class="controls" id="quiz-controls">
        <button id="prev-btn" style="display: none">Prec</button>
        <button id="next-btn" style="display: none">Pross</button>
        <button id="submit-btn" style="display: none">Invia</button>
        <button id="restart-btn" style="display: none">Ricomincia</button>
        <button id="review-btn" style="display: none">Review</button>
      </div>
      <div id="quiz-result" style="display: none"></div>
    </div>
    <script>
      // QUIZ_DATA contiene tutte le domande (incolla qui il tuo array JSON)
      const QUIZ_DATA = [
  {
    "domanda": "Qual è il ruolo delle 'Emicellulose' nella matrice della parete cellulare?",
    "opzioni": [
      "A) Formare microfibrille rigide e cristalline",
      "B) Legare le microfibrille di cellulosa tramite legami a idrogeno, stabilizzando la struttura",
      "C) Idrolizzare l'ATP per consentire l'espansione cellulare",
      "D) Sintetizzare i lipidi di membrana"
    ],
    "risposta_corretta": "B) Legare le microfibrille di cellulosa tramite legami a idrogeno, stabilizzando la struttura"
  },
  {
    "domanda": "Nel ciclo di Calvin, qual è il destino immediato della molecola di 3-fosfoglicerato (3-PGA)?",
    "opzioni": [
      "A) Viene convertita in RuBP tramite l'enzima Rubisco",
      "B) Viene ridotta a gliceraldeide-3-fosfato (G3P) utilizzando ATP e NADPH",
      "C) Viene espulsa dal cloroplasto come scarto gassoso",
      "D) Viene polimerizzata direttamente in amido primario"
    ],
    "risposta_corretta": "B) Viene ridotta a gliceraldeide-3-fosfato (G3P) utilizzando ATP e NADPH"
  },
  {
    "domanda": "Quale caratteristica distingue biochimicamente i 'Plastidi' dagli altri organelli cellulari?",
    "opzioni": [
      "A) La presenza di una singola membrana lipoproteica",
      "B) Il possesso di un genoma circolare proprio e ribosomi di tipo 70S",
      "C) La capacità di sintetizzare esclusivamente proteine citosoliche",
      "D) L'assenza di membrane interne"
    ],
    "risposta_corretta": "B) Il possesso di un genoma circolare proprio e ribosomi di tipo 70S"
  },
  {
    "domanda": "Il fenomeno della 'Plasmolisi' avviene quando una cellula vegetale è immersa in:",
    "opzioni": [
      "A) Una soluzione ipotonica, causando lo scoppio del protoplasto",
      "B) Una soluzione ipertonica, causando il distacco della membrana dalla parete",
      "C) Acqua distillata, aumentando la pressione di turgore",
      "D) Una soluzione isotonica che blocca il flusso di nutrienti"
    ],
    "risposta_corretta": "B) Una soluzione ipertonica, causando il distacco della membrana dalla parete"
  },
  {
    "domanda": "Cosa caratterizza le 'Punteggiature Areolate' tipiche delle tracheidi delle conifere?",
    "opzioni": [
      "A) Sono fori aperti che permettono il passaggio di gas",
      "B) Presentano un rigonfiamento della parete (toro) che può fungere da valvola",
      "C) Sono zone dove la parete primaria è stata completamente digerita",
      "D) Servono esclusivamente per l'ancoraggio delle fibre meccaniche"
    ],
    "risposta_corretta": "B) Presentano un rigonfiamento della parete (toro) che può fungere da valvola"
  },
  {
    "domanda": "Nella radice, l'origine delle 'Radici Laterali' avviene a livello del:",
    "opzioni": [
      "A) Epidermide",
      "B) Periciclo",
      "C) Endoderma",
      "D) Mesofillo"
    ],
    "risposta_corretta": "B) Periciclo"
  },
  {
    "domanda": "Qual è la funzione delle 'Cellule Compagne' nel floema delle Angiosperme?",
    "opzioni": [
      "A) Fornire supporto meccanico tramite pareti lignificate",
      "B) Gestire il metabolismo e il caricamento dei soluti nei tubi cribrosi",
      "C) Trasportare acqua per traspirazione",
      "D) Differenziarsi in vasi del legno durante lo stress idrico"
    ],
    "risposta_corretta": "B) Gestire il metabolismo e il caricamento dei soluti nei tubi cribrosi"
  },
  {
    "domanda": "Cosa si intende per 'Accrescimento Apposizionale' della parete cellulare?",
    "opzioni": [
      "A) L'espansione della parete per stiramento",
      "B) La deposizione di nuovi strati di cellulosa sopra quelli preesistenti",
      "C) La degradazione della lamella mediana",
      "D) Lo spostamento dei cloroplasti verso la luce"
    ],
    "risposta_corretta": "B) La deposizione di nuovi strati di cellulosa sopra quelli preesistenti"
  },
  {
    "domanda": "In un fusto con struttura secondaria, cos'è il 'Durame'?",
    "opzioni": [
      "A) La parte esterna del legno ancora funzionale al trasporto",
      "B) La parte centrale del legno, non più funzionale, spesso ricca di tannini e resine",
      "C) Il tessuto prodotto dal fellogeno verso l'esterno",
      "D) Lo strato di cellule vive del midollo"
    ],
    "risposta_corretta": "B) La parte centrale del legno, non più funzionale, spesso ricca di tannini e resine"
  },
  {
    "domanda": "Le 'Sclereidi' (cellule petrose) sono un tipo di sclerenchima che si trova tipicamente:",
    "opzioni": [
      "A) Nelle zone di allungamento del fusto",
      "B) Nella polpa granulosa dei frutti (es. pera) e nei tegumenti dei semi",
      "C) Nel floema primario come elementi conduttori",
      "D) Sulla superficie delle radici assorbenti"
    ],
    "risposta_corretta": "B) Nella polpa granulosa dei frutti (es. pera) e nei tegumenti dei semi"
  },
  {
    "domanda": "Quale di queste modificazioni della parete cellulare è definita 'Suberificazione'?",
    "opzioni": [
      "A) Impregnazione con lignina per la rigidità",
      "B) Deposizione di strati di suberina e cere per l'impermeabilizzazione",
      "C) Accumulo di carbonato di calcio",
      "D) Trasformazione della cellulosa in amido"
    ],
    "risposta_corretta": "B) Deposizione di strati di suberina e cere per l'impermeabilizzazione"
  },
  {
    "domanda": "Nella 'Fase Luminosa' della fotosintesi, l'ossigeno viene prodotto attraverso:",
    "opzioni": [
      "A) La riduzione della $CO_2$",
      "B) La fotolisi dell'acqua a livello del Fotosistema II",
      "C) La degradazione del glucosio nei perossisomi",
      "D) Il ciclo dei pentoso fosfati"
    ],
    "risposta_corretta": "B) La fotolisi dell'acqua a livello del Fotosistema II"
  },
  {
    "domanda": "Cos'è la 'Lamella Mediana'?",
    "opzioni": [
      "A) Lo strato più interno della parete secondaria",
      "B) Lo strato più esterno, ricco di pectine, che tiene unite cellule adiacenti",
      "C) Una membrana che separa il citoplasma dal vacuolo",
      "D) Una struttura proteica del nucleo"
    ],
    "risposta_corretta": "B) Lo strato più esterno, ricco di pectine, che tiene unite cellule adiacenti"
  },
  {
    "domanda": "Nelle Briofite (Muschi), perché lo sporofito è considerato parassita del gametofito?",
    "opzioni": [
      "A) Perché lo sporofito uccide il gametofito dopo la produzione di spore",
      "B) Perché lo sporofito è nutrizionalmente dipendente dal gametofito fotosintetico",
      "C) Perché il gametofito produce tossine contro lo sporofito",
      "D) Perché non esiste fase di sporofito nelle Briofite"
    ],
    "risposta_corretta": "B) Perché lo sporofito è nutrizionalmente dipendente dal gametofito fotosintetico"
  },
  {
    "domanda": "Qual è la differenza tra 'Sifonogamia' e 'Zoidiogamia'?",
    "opzioni": [
      "A) La sifonogamia usa l'acqua, la zoidiogamia il vento",
      "B) La sifonogamia prevede il tubetto pollinico; la zoidiogamia prevede gameti maschili flagellati mobili",
      "C) Non c'è differenza, sono termini obsoleti",
      "D) La zoidiogamia avviene solo nelle Angiosperme"
    ],
    "risposta_corretta": "B) La sifonogamia prevede il tubetto pollinico; la zoidiogamia prevede gameti maschili flagellati mobili"
  },
  {
    "domanda": "Cosa definisce il 'Cilindro Centrale' (Stele) in una radice in struttura primaria?",
    "opzioni": [
      "A) La zona esterna dell'epidermide",
      "B) L'insieme dei tessuti vascolari (xilema e floema) delimitati dal periciclo",
      "C) Il parenchima corticale esterno",
      "D) La cuffia radicale"
    ],
    "risposta_corretta": "B) L'insieme dei tessuti vascolari (xilema e floema) delimitati dal periciclo"
  },
  {
    "domanda": "L'enzima 'Anidrasi Carbonica' nel cloroplasto serve a:",
    "opzioni": [
      "A) Produrre ATP dai fotoni",
      "B) Convertire rapidamente bicarbonato in $CO_2$ per rifornire la Rubisco",
      "C) Degradare la clorofilla a fine stagione",
      "D) Sintetizzare amminoacidi ramificati"
    ],
    "risposta_corretta": "B) Convertire rapidamente bicarbonato in $CO_2$ per rifornire la Rubisco"
  },
  {
    "domanda": "Quale struttura permette alle foglie di Graminaceae (come il Mais) di arrotolarsi per ridurre la traspirazione?",
    "opzioni": [
      "A) Stomi idatodi",
      "B) Cellule bulbiformi (o motorie) dell'epidermide",
      "C) Canali resiniferi",
      "D) Trachee del protoxilema"
    ],
    "risposta_corretta": "B) Cellule bulbiformi (o motorie) dell'epidermide"
  },
  {
    "domanda": "Cos'è il 'Protoplasto'?",
    "opzioni": [
      "A) La parete cellulare senza citoplasma",
      "B) La parte viva della cellula vegetale, privata della parete cellulare",
      "C) Un precursore del cloroplasto",
      "D) Il nucleo della cellula vegetale"
    ],
    "risposta_corretta": "B) La parte viva della cellula vegetale, privata della parete cellulare"
  },
  {
    "domanda": "Nel processo di 'Doppia Fecondazione' delle Angiosperme, cosa si origina dall'unione del secondo nucleo spermatico con i due nuclei polari?",
    "opzioni": [
      "A) Lo zigote (2n)",
      "B) L'endosperma secondario triploide (3n)",
      "C) Il tegumento del seme",
      "D) Il frutto"
    ],
    "risposta_corretta": "B) L'endosperma secondario triploide (3n)"
  },
  {
    "domanda": "Qual è la funzione del 'Tappeto' all'interno delle antere?",
    "opzioni": [
      "A) Proteggere l'antera dagli insetti",
      "B) Fornire nutrimento ai granuli di polline in via di sviluppo e produrre sporopollenina",
      "C) Facilitare l'apertura dei fiori",
      "D) Trasportare acqua allo stigma"
    ],
    "risposta_corretta": "B) Fornire nutrimento ai granuli di polline in via di sviluppo e produrre sporopollenina"
  },
  {
    "domanda": "In anatomia vegetale, la 'Eustele' è caratteristica di:",
    "opzioni": [
      "A) Radici di Monocotiledoni",
      "B) Fusti di Dicotiledoni e Gimnosperme",
      "C) Foglie di felci",
      "D) Alghe brune"
    ],
    "risposta_corretta": "B) Fusti di Dicotiledoni e Gimnosperme"
  },
  {
    "domanda": "Cosa si intende per 'Tessuti Segregatori'?",
    "opzioni": [
      "A) Tessuti che separano fisicamente la radice dal fusto",
      "B) Tessuti specializzati nell'accumulo o espulsione di metaboliti secondari (resine, oli, latici)",
      "C) Cellule che dividono il nucleo in due",
      "D) Tessuti morti che sostengono la pianta"
    ],
    "risposta_corretta": "B) Tessuti specializzati nell'accumulo o espulsione di metaboliti secondari (resine, oli, latici)"
  },
  {
    "domanda": "Il 'Felloderma' è un tessuto prodotto dal:",
    "opzioni": [
      "A) Cambio cribro-vascolare verso l'interno",
      "B) Fellogeno verso l'interno",
      "C) Protoderma verso l'esterno",
      "D) Meristema apicale"
    ],
    "risposta_corretta": "B) Fellogeno verso l'interno"
  },
  {
    "domanda": "Qual è il principale componente della 'Sporopollenina'?",
    "opzioni": [
      "A) Carboidrati semplici",
      "B) Polimeri complessi altamente resistenti presenti nell'esina del polline",
      "C) Proteine del citoscheletro",
      "D) Fosfolipidi di membrana"
    ],
    "risposta_corretta": "B) Polimeri complessi altamente resistenti presenti nell'esina del polline"
  },
  {
    "domanda": "Nelle piante C4, dove avviene la fissazione definitiva della $CO_2$ tramite il ciclo di Calvin?",
    "opzioni": [
      "A) Nelle cellule del mesofillo",
      "B) Nelle cellule della guaina del fascio",
      "C) Negli stomi",
      "D) Nelle radici"
    ],
    "risposta_corretta": "B) Nelle cellule della guaina del fascio"
  },
  {
    "domanda": "Cosa sono le 'Antocianine' e dove si accumulano?",
    "opzioni": [
      "A) Pigmenti fotosintetici nei cloroplasti",
      "B) Pigmenti idrosolubili (rossi/blu) che si accumulano nel vacuolo",
      "C) Ormoni della crescita nel nucleo",
      "D) Proteine di riserva nel seme"
    ],
    "risposta_corretta": "B) Pigmenti idrosolubili (rossi/blu) che si accumulano nel vacuolo"
  },
  {
    "domanda": "Quale tipo di 'Parenchima' è specializzato nella fotosintesi?",
    "opzioni": [
      "A) Parenchima aerifero",
      "B) Clorenchima (parenchima clorofilliano)",
      "C) Parenchima acquifero",
      "D) Parenchima conduttore"
    ],
    "risposta_corretta": "B) Clorenchima (parenchima clorofilliano)"
  },
  {
    "domanda": "Cos'è la 'Cuffia' (o caliptra) della radice?",
    "opzioni": [
      "A) Un tessuto che produce polline",
      "B) Un cappuccio di cellule che protegge l'apice radicale e percepisce la gravità",
      "C) La zona dove nascono i peli radicali",
      "D) Lo strato esterno del seme"
    ],
    "risposta_corretta": "B) Un cappuccio di cellule che protegge l'apice radicale e percepisce la gravità"
  },
  {
    "domanda": "Le 'Idioblasti a cristalli' (es. ossalato di calcio) servono principalmente a:",
    "opzioni": [
      "A) Produrre energia",
      "B) Difesa contro l'erbiboria e regolazione del calcio",
      "C) Trasportare ossigeno",
      "D) Rafforzare lo xilema"
    ],
    "risposta_corretta": "B) Difesa contro l'erbiboria e regolazione del calcio"
  },
  {
    "domanda": "Qual è il rapporto tra 'Xilema' e 'Floema' in un fascio collaterale chiuso?",
    "opzioni": [
      "A) Lo xilema è esterno, il floema è interno; presenza di cambio",
      "B) Lo xilema è rivolto verso il centro, il floema verso l'esterno; assenza di cambio",
      "C) Sono mescolati in modo casuale",
      "D) Lo xilema circonda completamente il floema"
    ],
    "risposta_corretta": "B) Lo xilema è rivolto verso il centro, il floema verso l'esterno; assenza di cambio"
  },
  {
    "domanda": "Nel seme del mais, cos'è lo 'Scutello'?",
    "opzioni": [
      "A) Il tegumento esterno",
      "B) L'unico cotiledone trasformato in organo di assorbimento dei nutrienti dall'endosperma",
      "C) La radice embrionale",
      "D) Il fiore maschile"
    ],
    "risposta_corretta": "B) L'unico cotiledone trasformato in organo di assorbimento dei nutrienti dall'endosperma"
  },
  {
    "domanda": "Qual è la funzione del 'Perissoma' nelle cellule vegetali durante la fotorespirazione?",
    "opzioni": [
      "A) Sintesi dei lipidi",
      "B) Metabolismo del glicolato prodotto dalla Rubisco",
      "C) Fissazione del carbonio",
      "D) Produzione di amido"
    ],
    "risposta_corretta": "B) Metabolismo del glicolato prodotto dalla Rubisco"
  },
  {
    "domanda": "Cosa differenzia il 'Legno di Reazione' delle Angiosperme (legno di tensione) da quello delle Gimnosperme (legno di compressione)?",
    "opzioni": [
      "A) Le Angiosperme lo producono sul lato inferiore del ramo",
      "B) Le Angiosperme lo producono sul lato superiore, ricco di fibre gelatinose",
      "C) Non esiste il legno di reazione nelle Angiosperme",
      "D) Le Gimnosperme non usano lignina per il sostegno"
    ],
    "risposta_corretta": "B) Le Angiosperme lo producono sul lato superiore, ricco di fibre gelatinose"
  },
  {
    "domanda": "I 'Glicosidi Cardioattivi' sono esempi di:",
    "opzioni": [
      "A) Metaboliti primari essenziali",
      "B) Metaboliti secondari usati dalle piante come difesa chimica",
      "C) Carboidrati di riserva del vacuolo",
      "D) Proteine strutturali del citoscheletro"
    ],
    "risposta_corretta": "B) Metaboliti secondari usati dalle piante come difesa chimica"
  },
  {
    "domanda": "Qual è lo scopo del 'Trasporto Elettronico Ciclico' nei cloroplasti?",
    "opzioni": [
      "A) Produrre solo NADPH",
      "B) Produrre ATP supplementare senza produrre NADPH",
      "C) Fissare l'ossigeno",
      "D) Rompere la molecola di acqua"
    ],
    "risposta_corretta": "B) Produrre ATP supplementare senza produrre NADPH"
  },
  {
    "domanda": "Cosa sono le 'Lenticelle' dal punto di vista anatomico?",
    "opzioni": [
      "A) Aperture stomatiche nell'epidermide",
      "B) Zone del periderma dove il fellogeno produce cellule parenchimatiche scarsamente collegate",
      "C) Cicatrici lasciate dalle foglie cadute",
      "D) Gruppi di peli radicali lignificati"
    ],
    "risposta_corretta": "B) Zone del periderma dove il fellogeno produce cellule parenchimatiche scarsamente collegate"
  },
  {
    "domanda": "Cos'è un 'Fascio Cribro-Vascolare Collaterale Aperto'?",
    "opzioni": [
      "A) Un fascio che permette il passaggio di aria",
      "B) Un fascio con xilema e floema separati da una striscia di cambio (meristema)",
      "C) Un fascio tipico delle Monocotiledoni",
      "D) Un fascio senza xilema"
    ],
    "risposta_corretta": "B) Un fascio con xilema e floema separati da una striscia di cambio (meristema)"
  },
  {
    "domanda": "L' 'Inulina' è un carboidrato di riserva tipico di quali piante?",
    "opzioni": [
      "A) Graminacee",
      "B) Asteraceae (es. Topinambur, Cicoria)",
      "C) Conifere",
      "D) Muschi"
    ],
    "risposta_corretta": "B) Asteraceae (es. Topinambur, Cicoria)"
  },
  {
    "domanda": "Qual è il meccanismo d'azione dei 'Nettari'?",
    "opzioni": [
      "A) Diffusione passiva di acqua",
      "B) Secrezione attiva di zuccheri tramite trasportatori o esocitosi",
      "C) Rottura delle cellule epidermiche",
      "D) Assorbimento di polline"
    ],
    "risposta_corretta": "B) Secrezione attiva di zuccheri tramite trasportatori o esocitosi"
  },
  {
    "domanda": "In una foglia dorsiventrale, il 'Parenchima a Palizzata' si trova:",
    "opzioni": [
      "A) Sul lato inferiore per evitare la luce",
      "B) Sul lato superiore (adassiale), ottimizzato per la cattura della luce",
      "C) Al centro della foglia, circondato dai vasi",
      "D) Solo lungo i margini della foglia"
    ],
    "risposta_corretta": "B) Sul lato superiore (adassiale), ottimizzato per la cattura della luce"
  },
  {
    "domanda": "Cos'è la 'Cariosside'?",
    "opzioni": [
      "A) Un frutto carnoso tipo bacca",
      "B) Un frutto secco indeiscente dove il tegumento del seme è fuso con il pericarpo (tipico dei cereali)",
      "C) Un seme nudo senza protezione",
      "D) Un'infiorescenza maschile"
    ],
    "risposta_corretta": "B) Un frutto secco indeiscente dove il tegumento del seme è fuso con il pericarpo (tipico dei cereali)"
  },
  {
    "domanda": "Le 'Gimnosperme' sono piante:",
    "opzioni": [
      "A) Con fiori vistosi e frutti carnosi",
      "B) Con ovuli portati su squame di coni e non protetti da un ovario",
      "C) Senza tessuti vascolari",
      "D) Che si riproducono solo per via vegetativa"
    ],
    "risposta_corretta": "B) Con ovuli portati su squame di coni e non protetti da un ovario"
  },
  {
    "domanda": "Qual è la funzione del 'Fuso Mitotico' nelle cellule vegetali?",
    "opzioni": [
      "A) Formare la parete cellulare",
      "B) Separare i cromatidi fratelli durante la divisione nucleare",
      "C) Trasportare i cloroplasti",
      "D) Sintetizzare amido"
    ],
    "risposta_corretta": "B) Separare i cromatidi fratelli durante la divisione nucleare"
  },
  {
    "domanda": "Cosa differenzia le 'Alte' verdi dalle piante terrestri (Embriofite)?",
    "opzioni": [
      "A) Le alghe non hanno clorofilla",
      "B) Le Embriofite proteggono lo zigote/embrione all'interno di tessuti materni",
      "C) Le alghe hanno radici più profonde",
      "D) Le Embriofite non fanno fotosintesi"
    ],
    "risposta_corretta": "B) Le Embriofite proteggono lo zigote/embrione all'interno di tessuti materni"
  },
  {
    "domanda": "Qual è il ruolo dei 'Tannini'?",
    "opzioni": [
      "A) Attirare gli impollinatori",
      "B) Difesa contro patogeni ed erbivori grazie alla loro capacità di precipitare le proteine",
      "C) Riserva di energia rapida",
      "D) Regolazione dell'apertura stomatica"
    ],
    "risposta_corretta": "B) Difesa contro patogeni ed erbivori grazie alla loro capacità di precipitare le proteine"
  },
  {
    "domanda": "Nel mais, le 'Zone Vitree' dell'endosperma sono caratterizzate da:",
    "opzioni": [
      "A) Solo aria",
      "B) Granuli di amido strettamente impacchettati con una matrice proteica densa",
      "C) Assenza di proteine",
      "D) Alto contenuto di acqua"
    ],
    "risposta_corretta": "B) Granuli di amido strettamente impacchettati con una matrice proteica densa"
  },
  {
    "domanda": "La 'Protoplastina' è un termine associato a:",
    "opzioni": [
      "A) Un enzima del ciclo di Calvin",
      "B) Lo stato del citoplasma in cellule giovani",
      "C) Una tecnica di fusione cellulare",
      "D) Un tipo di pigmento accessorio"
    ],
    "risposta_corretta": "B) Lo stato del citoplasma in cellule giovani"
  },
  {
    "domanda": "Nelle Angiosperme, lo 'Stigma' serve a:",
    "opzioni": [
      "A) Produrre l'ovulo",
      "B) Ricevere e selezionare i granuli di polline",
      "C) Proteggere i petali",
      "D) Fare fotosintesi"
    ],
    "risposta_corretta": "B) Ricevere e selezionare i granuli di polline"
  },
  {
    "domanda": "Cosa accade nel 'Centro Quiescente' dell'apice radicale?",
    "opzioni": [
      "A) Le cellule si dividono molto rapidamente",
      "B) Le cellule hanno una bassa attività mitotica e fungono da riserva di cellule staminali",
      "C) Si formano i primi vasi del legno",
      "D) Muoiono le cellule della cuffia"
    ],
    "risposta_corretta": "B) Le cellule hanno una bassa attività mitotica e fungono da riserva di cellule staminali"
  },
  {
    "domanda": "Qual è la differenza tra 'Apocitosi' e 'Sincizio'?",
    "opzioni": [
      "A) L'apocitosi è la morte cellulare, il sincizio la vita",
      "B) Entrambi descrivono strutture polinucleate, ma l'apocitosi deriva da divisioni nucleari senza citodieresi",
      "C) Il sincizio avviene solo nelle radici",
      "D) Non esistono tali termini in botanica"
    ],
    "risposta_corretta": "B) Entrambi descrivono strutture polinucleate, ma l'apocitosi deriva da divisioni nucleari senza citodieresi"
  },
  {
    "domanda": "Cos'è lo 'Xilema Primario'?",
    "opzioni": [
      "A) Il legno prodotto dal cambio",
      "B) Il tessuto conduttore derivante dal procambio del meristema apicale",
      "C) Il tessuto che trasporta zuccheri",
      "D) La corteccia esterna"
    ],
    "risposta_corretta": "B) Il tessuto conduttore derivante dal procambio del meristema apicale"
  },
  {
    "domanda": "Quale organello è coinvolto nella sintesi di precursori della lignina?",
    "opzioni": [
      "A) Vacuolo",
      "B) Reticolo Endoplasmatico e Apparato di Golgi",
      "C) Nucleo",
      "D) Ribosomi liberi"
    ],
    "risposta_corretta": "B) Reticolo Endoplasmatico e Apparato di Golgi"
  },
  {
    "domanda": "Cosa sono le 'Idioblasti'?",
    "opzioni": [
      "A) Cellule staminali indifferenziate",
      "B) Cellule specializzate che differiscono per forma e funzione dalle cellule circostanti dello stesso tessuto",
      "C) Cellule morte del legno",
      "D) Parassiti delle piante"
    ],
    "risposta_corretta": "B) Cellule specializzate che differiscono per forma e funzione dalle cellule circostanti dello stesso tessuto"
  },
  {
    "domanda": "Il 'Gametofito' è la generazione che produce:",
    "opzioni": [
      "A) Spore per meiosi",
      "B) Gameti per mitosi",
      "C) Semi per fecondazione",
      "D) Polline per osmosi"
    ],
    "risposta_corretta": "B) Gameti per mitosi"
  },
  {
    "domanda": "Qual è la funzione del 'Sospensore' nell'embriogenesi?",
    "opzioni": [
      "A) Proteggere l'ovulo",
      "B) Spingere l'embrione all'interno dell'endosperma per facilitare l'assorbimento dei nutrienti",
      "C) Formare le prime foglie fotosintetiche",
      "D) Ancorare la pianta al terreno"
    ],
    "risposta_corretta": "B) Spingere l'embrione all'interno dell'endosperma per facilitare l'assorbimento dei nutrienti"
  },
  {
    "domanda": "Le 'Pteridofite' sono dette Crittogame Vascolari perché:",
    "opzioni": [
      "A) Hanno fiori nascosti",
      "B) Si riproducono per spore (nascoste) ma possiedono xilema e floema",
      "C) Vivono sottoterra",
      "D) Non hanno bisogno di acqua per la fecondazione"
    ],
    "risposta_corretta": "B) Si riproducono per spore (nascoste) ma possiedono xilema e floema"
  },
  {
    "domanda": "Cos'è la 'Vernalizzazione'?",
    "opzioni": [
      "A) La colorazione verde delle foglie in primavera",
      "B) Il fabbisogno di un periodo di freddo per indurre la fioritura",
      "C) La mutazione indotta dai raggi UV",
      "D) La caduta delle foglie"
    ],
    "risposta_corretta": "B) Il fabbisogno di un periodo di freddo per indurre la fioritura"
  },
  {
    "domanda": "I 'Tricomi Ghiandolari' producono:",
    "opzioni": [
      "A) Solo acqua distillata",
      "B) Metaboliti secondari come oli essenziali o resine",
      "C) Cellulosa per la parete",
      "D) Clorofilla accessoria"
    ],
    "risposta_corretta": "B) Metaboliti secondari come oli essenziali o resine"
  },
  {
    "domanda": "Quale evento segna la fine della 'Quiescenza' del seme?",
    "opzioni": [
      "A) La caduta dal ramo",
      "B) L'imbibizione (assorbimento d'acqua)",
      "C) La perdita totale di ossigeno",
      "D) La sintesi di lignina"
    ],
    "risposta_corretta": "B) L'imbibizione (assorbimento d'acqua)"
  },
  {
    "domanda": "Cos'è l' 'Atactostele'?",
    "opzioni": [
      "A) Una stele con vasi disposti a stella",
      "B) Una stele con fasci vascolari sparsi nel parenchima (tipica delle Monocotiledoni)",
      "C) Un fusto senza vasi",
      "D) La struttura della radice delle Gimnosperme"
    ],
    "risposta_corretta": "B) Una stele con fasci vascolari sparsi nel parenchima (tipica delle Monocotiledoni)"
  },
  {
    "domanda": "Nello xilema, le 'Tilosi' sono:",
    "opzioni": [
      "A) Nuovi vasi prodotti in primavera",
      "B) Estroflessioni di cellule parenchimatiche che ostruiscono i vasi non più funzionali",
      "C) Malattie fungine dei cereali",
      "D) Cristalli di ossalato"
    ],
    "risposta_corretta": "B) Estroflessioni di cellule parenchimatiche che ostruiscono i vasi non più funzionali"
  },
  {
    "domanda": "Qual è il ruolo del 'Plastochrono'?",
    "opzioni": [
      "A) Misurare l'età della pianta",
      "B) Intervallo di tempo tra la formazione di due primordi fogliari successivi",
      "C) La durata della fotosintesi giornaliera",
      "D) Il tempo di maturazione del frutto"
    ],
    "risposta_corretta": "B) Intervallo di tempo tra la formazione di due primordi fogliari successivi"
  },
  {
    "domanda": "Cosa si intende per 'Eterosporia'?",
    "opzioni": [
      "A) Produzione di spore maschili e femminili morfologicamente identiche",
      "B) Produzione di microspore (maschili) e megaspore (femminili)",
      "C) Riproduzione tramite semi di diverse dimensioni",
      "D) Spore che germinano solo al buio"
    ],
    "risposta_corretta": "B) Produzione di microspore (maschili) e megaspore (femminili)"
  },
  {
    "domanda": "Qual è la funzione del 'Periderma'?",
    "opzioni": [
      "A) Fare fotosintesi nel fusto giovane",
      "B) Sostituire l'epidermide come tessuto di protezione negli organi con crescita secondaria",
      "C) Trasportare linfa elaborata",
      "D) Assorbire acqua dal suolo"
    ],
    "risposta_corretta": "B) Sostituire l'epidermide come tessuto di protezione negli organi con crescita secondaria"
  },
  {
    "domanda": "Il 'Canale Resinifero' è circondato da cellule:",
    "opzioni": [
      "A) Morte",
      "B) Epiteliali secernenti",
      "C) Di guardia stomatiche",
      "D) Legnose lignificate"
    ],
    "risposta_corretta": "B) Epiteliali secernenti"
  },
  {
    "domanda": "La 'Pressione di Turgore' è generata da:",
    "opzioni": [
      "A) La contrazione dei mitocondri",
      "B) L'ingresso di acqua nel vacuolo per osmosi e la spinta contro la parete cellulare",
      "C) La perdita di sali dalle radici",
      "D) Il vento che soffia sulle foglie"
    ],
    "risposta_corretta": "B) L'ingresso di acqua nel vacuolo per osmosi e la spinta contro la parete cellulare"
  },
  {
    "domanda": "Nelle Angiosperme, da cosa è formato il 'Poliere'?",
    "opzioni": [
      "A) Da una sola cellula",
      "B) Dal gametofito maschile immaturo (cellula vegetativa + cellula generativa)",
      "C) Solo da DNA nudo",
      "D) Dallo zigote"
    ],
    "risposta_corretta": "B) Dal gametofito maschile immaturo (cellula vegetativa + cellula generativa)"
  },
  {
    "domanda": "Cos'è la 'Guttazione'?",
    "opzioni": [
      "A) La caduta dei frutti",
      "B) Escrezione di acqua liquida dagli idatodi per pressione radicale",
      "C) La fusione delle cellule",
      "D) L'appassimento della pianta"
    ],
    "risposta_corretta": "B) Escrezione di acqua liquida dagli idatodi per pressione radicale"
  },
  {
    "domanda": "Quale ormone vegetale è principalmente coinvolto nella 'Dominanza Apicale'?",
    "opzioni": [
      "A) Etilene",
      "B) Auxina",
      "C) Acido Abscissico",
      "D) Gibberelline"
    ],
    "risposta_corretta": "B) Auxina"
  },
  {
    "domanda": "Cos'è l' 'Endoderma'?",
    "opzioni": [
      "A) Il tessuto più interno del legno",
      "B) Lo strato più interno della corteccia radicale che funge da barriera selettiva",
      "C) La pelle dei frutti",
      "D) Il citoplasma del polline"
    ],
    "risposta_corretta": "B) Lo strato più interno della corteccia radicale che funge da barriera selettiva"
  },
  {
    "domanda": "Quale di queste piante è una 'Monocotiledone'?",
    "opzioni": [
      "A) Quercia",
      "B) Mais (Zea mais)",
      "C) Fagiolo",
      "D) Rosa"
    ],
    "risposta_corretta": "B) Mais (Zea mais)"
  },
  {
    "domanda": "La 'Lignificazione' avviene solitamente nella:",
    "opzioni": [
      "A) Lamella mediana",
      "B) Parete secondaria",
      "C) Membrana plasmatica",
      "D) Parete primaria delle cellule giovani"
    ],
    "risposta_corretta": "B) Parete secondaria"
  },
  {
    "domanda": "Cosa si intende per 'Riproduzione Vegetativa'?",
    "opzioni": [
      "A) Produzione di semi per fecondazione",
      "B) Moltiplicazione asessuata tramite mitosi (stoloni, tuberi, bulbi)",
      "C) Produzione di spore meiotiche",
      "D) Crescita delle foglie in primavera"
    ],
    "risposta_corretta": "B) Moltiplicazione asessuata tramite mitosi (stoloni, tuberi, bulbi)"
  },
  {
    "domanda": "Il 'Corpo Basale' è una struttura associata a:",
    "opzioni": [
      "A) Radici",
      "B) Ciglia e flagelli dei gameti mobili",
      "C) Stomi",
      "D) Cloroplasti"
    ],
    "risposta_corretta": "B) Ciglia e flagelli dei gameti mobili"
  },
  {
    "domanda": "Cos'è il 'Mesofillo'?",
    "opzioni": [
      "A) Il tessuto parenchimatico fotosintetico della foglia",
      "B) Il centro della radice",
      "C) Il fusto delle piante acquatiche",
      "D) Lo strato esterno del polline"
    ],
    "risposta_corretta": "A) Il tessuto parenchimatico fotosintetico della foglia"
  },
  {
    "domanda": "Quale pigmento accessorio è tipico delle 'Alghe Rosse'?",
    "opzioni": [
      "A) Clorofilla b",
      "B) Ficoeritrina",
      "C) Fucoxantina",
      "D) Carotene"
    ],
    "risposta_corretta": "B) Ficoeritrina"
  },
  {
    "domanda": "Cosa si intende per 'Embrione' nelle piante terrestri?",
    "opzioni": [
      "A) Lo stadio unicellulare della vita",
      "B) Lo sporofito giovane che si sviluppa dal gametofito femminile",
      "C) Il polline appena germinato",
      "D) Una foglia in miniatura"
    ],
    "risposta_corretta": "B) Lo sporofito giovane che si sviluppa dal gametofito femminile"
  },
  {
    "domanda": "Qual è la funzione del 'Fellogeno'?",
    "opzioni": [
      "A) Produrre xilema e floema",
      "B) Produrre sughero e felloderma (accrescimento secondario tegumentale)",
      "C) Formare i peli radicali",
      "D) Dirigere la fotosintesi"
    ],
    "risposta_corretta": "B) Produrre sughero e felloderma (accrescimento secondario tegumentale)"
  },
  {
    "domanda": "La 'Cutina' è un componente di:",
    "opzioni": [
      "A) Legno",
      "B) Cuticola epidermica delle parti aeree",
      "C) Radici profonde",
      "D) Mitocondri"
    ],
    "risposta_corretta": "B) Cuticola epidermica delle parti aeree"
  },
  {
    "domanda": "Qual è lo scopo del 'Ciclo di Krebs' nella cellula vegetale?",
    "opzioni": [
      "A) Fissare la $CO_2$",
      "B) Ossidare il piruvato per produrre energia (ATP, NADH) e precursori metabolici",
      "C) Produrre ossigeno",
      "D) Sintetizzare cellulosa"
    ],
    "risposta_corretta": "B) Ossidare il piruvato per produrre energia (ATP, NADH) e precursori metabolici"
  },
  {
    "domanda": "Cos'è la 'Sifonogamia'?",
    "opzioni": [
      "A) Fecondazione mediata da insetti",
      "B) Trasferimento dei nuclei spermatici tramite un tubetto pollinico verso l'ovulo",
      "C) Respirazione tramite tubi",
      "D) Assorbimento di acqua per capillarità"
    ],
    "risposta_corretta": "B) Trasferimento dei nuclei spermatici tramite un tubetto pollinico verso l'ovulo"
  },
  {
    "domanda": "Cosa sono le 'Trachee' (vasi)?",
    "opzioni": [
      "A) Cellule vive conduttrici di zuccheri",
      "B) Elementi dello xilema formati da file di cellule morte con pareti terminali perforate o assenti",
      "C) Aperture per l'aria nelle foglie",
      "D) Radici che crescono in aria"
    ],
    "risposta_corretta": "B) Elementi dello xilema formati da file di cellule morte con pareti terminali perforate o assenti"
  },
  {
    "domanda": "In genetica vegetale, cosa significa 'Poliploidia'?",
    "opzioni": [
      "A) Perdita di cromosomi",
      "B) Possesso di più di due set completi di cromosomi (comune nelle Angiosperme)",
      "C) Riproduzione solo per via maschile",
      "D) Presenza di molti nuclei in una cellula"
    ],
    "risposta_corretta": "B) Possesso di più di due set completi di cromosomi (comune nelle Angiosperme)"
  },
  {
    "domanda": "Qual è la funzione delle 'Sclereidi'?",
    "opzioni": [
      "A) Trasporto",
      "B) Sostegno meccanico e protezione in tessuti maturi",
      "C) Fotosintesi",
      "D) Assorbimento d'acqua"
    ],
    "risposta_corretta": "B) Sostegno meccanico e protezione in tessuti maturi"
  },
  {
    "domanda": "Cos'è il 'Periciclo'?",
    "opzioni": [
      "A) Lo strato più esterno della foglia",
      "B) Lo strato di cellule esterne al tessuto vascolare della radice da cui si originano le radici laterali",
      "C) Un tipo di frutto",
      "D) Il ciclo di vita di un parassita"
    ],
    "risposta_corretta": "B) Lo strato di cellule esterne al tessuto vascolare della radice da cui si originano le radici laterali"
  },
  {
    "domanda": "La 'Riproduzione Sessuale' comporta:",
    "opzioni": [
      "A) Solo mitosi",
      "B) Alternanza di meiosi e singamia (fecondazione)",
      "C) Creazione di cloni",
      "D) Assenza di gameti"
    ],
    "risposta_corretta": "B) Alternanza di meiosi e singamia (fecondazione)"
  },
  {
    "domanda": "Cos'è l' 'Endosperma'?",
    "opzioni": [
      "A) La pelle del seme",
      "B) Tessuto di riserva del seme che nutre l'embrione",
      "C) Il polline",
      "D) L'apparato radicale giovane"
    ],
    "risposta_corretta": "B) Tessuto di riserva del seme che nutre l'embrione"
  },
  {
    "domanda": "Quale parte della cellula vegetale è sede della 'Glicosilazione' delle proteine?",
    "opzioni": [
      "A) Cloroplasto",
      "B) Apparato di Golgi",
      "C) Vacuolo",
      "D) Nucleo"
    ],
    "risposta_corretta": "B) Apparato di Golgi"
  },
  {
    "domanda": "Cos'è un 'Amiloplasto'?",
    "opzioni": [
      "A) Un cloroplasto che ha perso il colore",
      "B) Un leucoplasto specializzato nell'accumulo di granuli di amido",
      "C) Una cellula del legno",
      "D) Un tipo di stoma"
    ],
    "risposta_corretta": "B) Un leucoplasto specializzato nell'accumulo di granuli di amido"
  },
  {
    "domanda": "Qual è la differenza tra 'Imbibizione' e 'Osmosi'?",
    "opzioni": [
      "A) L'imbibizione richiede membrane semipermeabili",
      "B) L'imbibizione è l'assorbimento di acqua da parte di sostanze colloidali (es. pareti, semi sechi); l'osmosi è il passaggio attraverso membrane",
      "C) Sono lo stesso processo",
      "D) L'osmosi avviene solo nei fiori"
    ],
    "risposta_corretta": "B) L'imbibizione è l'assorbimento di acqua da parte di sostanze colloidali (es. pareti, semi sechi); l'osmosi è il passaggio attraverso membrane"
  },
  {
    "domanda": "Cosa sono i 'Plasmodesmi'?",
    "opzioni": [
      "A) Organelli per la fotosintesi",
      "B) Canali citoplasmatici che mettono in comunicazione cellule adiacenti attraversando le pareti",
      "C) Parti del nucleo",
      "D) Cellule della radice"
    ],
    "risposta_corretta": "B) Canali citoplasmatici che mettono in comunicazione cellule adiacenti attraversando le pareti"
  },
  {
    "domanda": "Quale tessuto forma le 'Fibre' tessili (es. lino, canapa)?",
    "opzioni": [
      "A) Parenchima",
      "B) Sclerenchima",
      "C) Xilema",
      "D) Epidermide"
    ],
    "risposta_corretta": "B) Sclerenchima"
  },
  {
    "domanda": "Cos'è la 'Protodermide'?",
    "opzioni": [
      "A) La pelle delle radici vecchie",
      "B) Il meristema primario che darà origine all'epidermide",
      "C) Un tipo di alga",
      "D) Il citoplasma primordiale"
    ],
    "risposta_corretta": "B) Il meristema primario che darà origine all'epidermide"
  },
  {
    "domanda": "Qual è lo scopo dei 'Cristalli di Ossalato di Calcio' nelle cellule?",
    "opzioni": [
      "A) Riserva di zucchero",
      "B) Regolazione dei livelli di calcio e difesa contro gli erbivori",
      "C) Fare fotosintesi al buio",
      "D) Sostenere il nucleo"
    ],
    "risposta_corretta": "B) Regolazione dei livelli di calcio e difesa contro gli erbivori"
  },
  {
    "domanda": "In quale fase del ciclo cellulare avviene la 'Duplicazione del DNA'?",
    "opzioni": [
      "A) G1",
      "B) S (Sintesi)",
      "C) G2",
      "D) Mitosi"
    ],
    "risposta_corretta": "B) S (Sintesi)"
  },
  {
    "domanda": "Cos'è l' 'Ovario' in un fiore?",
    "opzioni": [
      "A) La parte che produce il polline",
      "B) La base del carpello che contiene gli ovuli e che diventerà frutto",
      "C) Un petalo modificato",
      "D) La radice del fiore"
    ],
    "risposta_corretta": "B) La base del carpello che contiene gli ovuli e che diventerà frutto"
  },
  {
    "domanda": "Cosa si intende per 'Accrescimento Intercalare'?",
    "opzioni": [
      "A) Crescita solo in cima",
      "B) Crescita che avviene in zone distanti dagli apici, comune alla base dei nodi delle Graminacee",
      "C) Crescita delle radici laterali",
      "D) Divisione cellulare nel vacuolo"
    ],
    "risposta_corretta": "B) Crescita che avviene in zone distanti dagli apici, comune alla base dei nodi delle Graminacee"
  },
  {
    "domanda": "Qual è la funzione dei 'Tubi Cribrosi'?",
    "opzioni": [
      "A) Trasporto di acqua e sali minerali",
      "B) Trasporto di linfa elaborata (zuccheri e amminoacidi) nel floema",
      "C) Sostegno meccanico",
      "D) Protezione contro i parassiti"
    ],
    "risposta_corretta": "B) Trasporto di linfa elaborata (zuccheri e amminoacidi) nel floema"
  }
]
      let quiz = [];
      let userAnswers = [];
      let current = 0;
      let submitted = false;
      let showAnswersNow = false;
      const NUM_QUESTIONS = 30;

      const quizContent = document.getElementById('quiz-content');
      const quizResult = document.getElementById('quiz-result');
      const prevBtn = document.getElementById('prev-btn');
      const nextBtn = document.getElementById('next-btn');
      const submitBtn = document.getElementById('submit-btn');
      const restartBtn = document.getElementById('restart-btn');
      const reviewBtn = document.getElementById('review-btn');
      const showAnswersToggle = document.getElementById('show-answers-toggle');

      if (showAnswersToggle) {
        showAnswersToggle.addEventListener('change', function () {
          showAnswersNow = showAnswersToggle.checked;
          renderQuestion();
          updateControls();
        });
      }

      function shuffleArray(arr) {
        for (let i = arr.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [arr[i], arr[j]] = [arr[j], arr[i]];
        }
        return arr;
      }

      function loadQuiz() {
        // Rimuovi le domande duplicate basandosi sul testo della domanda
        const uniqueQuestions = [];
        const seenQuestions = new Set();

        QUIZ_DATA.forEach((question) => {
          if (!seenQuestions.has(question.domanda)) {
            seenQuestions.add(question.domanda);
            uniqueQuestions.push(question);
          }
        });
        console.log({ uniqueQuestions });
        let allQuestions = uniqueQuestions.slice();
        allQuestions = shuffleArray(allQuestions);

        // Assicurati di non superare il numero di domande disponibili
        const questionsToUse = Math.min(NUM_QUESTIONS, allQuestions.length);

        quiz = allQuestions.slice(0, questionsToUse).map((q) => {
          const opzioniShuffled = shuffleArray(q.opzioni.slice());
          return {
            ...q,
            opzioni: opzioniShuffled
          };
        });

        userAnswers = quiz.map(() => ({ risposta: null }));
        current = 0;
        submitted = false;
        quizResult.style.display = 'none';
        quizContent.style.display = '';
        prevBtn.style.display = 'inline-block';
        nextBtn.style.display = 'inline-block';
        submitBtn.style.display = 'inline-block';
        restartBtn.style.display = 'none';
        reviewBtn.style.display = 'none';
        if (showAnswersToggle) showAnswersToggle.disabled = false;
        renderQuestion();
        updateControls();
      }

      function renderQuestion() {
        const q = quiz[current];
        const userAnswer = userAnswers[current].risposta;
        let optionsHtml = '';
        q.opzioni.forEach((opt) => {
          let cls = '';
          let disabled = '';
          if (showAnswersNow && userAnswer) {
            if (opt === q.risposta_corretta) cls = 'correct';
            if (userAnswer === opt && opt !== q.risposta_corretta)
              cls = 'incorrect selected';
            if (userAnswer === opt && opt === q.risposta_corretta)
              cls = 'correct selected';
            disabled = 'disabled';
          } else if (userAnswer === opt) {
            cls = 'selected';
          }
          optionsHtml += `<button class="option${
            cls ? ' ' + cls : ''
          }" data-opt="${opt}" ${disabled}>${opt
            .replace('A)', '')
            .replace('B)', '')
            .replace('C)', '')
            .replace('D)', '')}</button>`;
        });
        quizContent.innerHTML = `
        <div class="question">Domanda ${current + 1} di ${quiz.length}:<br>${
          q.domanda
        }</div>
        <div class="options">
          ${optionsHtml}
        </div>
      `;
        document.querySelectorAll('.option').forEach((btn) => {
          btn.onclick = function () {
            if (userAnswers[current].risposta && showAnswersNow) return;
            userAnswers[current].risposta = btn.getAttribute('data-opt');
            renderQuestion();
            updateControls();
          };
        });
      }

      function updateControls() {
        prevBtn.style.display = current > 0 ? 'inline-block' : 'none';
        nextBtn.style.display =
          current < quiz.length - 1 ? 'inline-block' : 'none';
        submitBtn.style.display =
          current === quiz.length - 1 && !submitted ? 'inline-block' : 'none';
        restartBtn.style.display = submitted ? 'inline-block' : 'none';
        reviewBtn.style.display = submitted ? 'inline-block' : 'none';
        nextBtn.disabled = userAnswers[current].risposta === null;
        submitBtn.disabled = userAnswers[current].risposta === null;
        if (showAnswersToggle) showAnswersToggle.disabled = submitted;
      }

      prevBtn.onclick = function () {
        if (current > 0) {
          current--;
          renderQuestion();
          updateControls();
        }
      };

      nextBtn.onclick = function () {
        if (current < quiz.length - 1) {
          current++;
          renderQuestion();
          updateControls();
        }
      };

      submitBtn.onclick = function () {
        submitted = true;
        showResult();
        updateControls();
      };

      restartBtn.onclick = function () {
        loadQuiz();
      };

      reviewBtn.onclick = function () {
        showReview();
      };

      function showResult() {
        const correct = quiz.filter(
          (q, i) => userAnswers[i].risposta === q.risposta_corretta
        ).length;
        quizContent.style.display = 'none';
        quizResult.style.display = '';
        quizResult.innerHTML = `<div class='score'>Hai totalizzato <b>${correct}</b> su <b>${quiz.length}</b>!</div>`;
      }

      function showReview() {
        quizResult.style.display = 'none';
        quizContent.style.display = '';
        quizContent.innerHTML = `<div class='review'>
        ${quiz
          .map((q, i) => {
            const user = userAnswers[i].risposta;
            return `
            <div class="question">${i + 1}. ${q.domanda}</div>
            <div class="options">
              ${q.opzioni
                .map((opt) => {
                  let cls = '';
                  if (opt === q.risposta_corretta) cls = 'correct';
                  if (user && opt === user && opt !== q.risposta_corretta)
                    cls = 'incorrect';
                  if (user && opt === user) cls += ' selected';
                  return `<span class="option ${cls}">${opt}</span>`;
                })
                .join('')}
            </div>
            <div style="margin-bottom:12px;font-size:0.95em;">
              Tua risposta: <b>${user ? user : '<i>Non risposto</i>'}</b><br>
              Risposta corretta: <b>${q.risposta_corretta}</b>
            </div>
          `;
          })
          .join('')}
      </div>`;
      }

      // Avvio
      loadQuiz();
    </script>
  </body>
</html>
